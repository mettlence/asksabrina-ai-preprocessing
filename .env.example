# ===================================
# .env.example (Updated with new options)
# ===================================

# MongoDB Connection (Required)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/

# OpenAI API Key (Required)
OPENAI_API_KEY=sk-proj-...

# Configuration - Lookback Period
# How many hours back to check for orders
# Default: 720 hours (30 days)
# For first run with 5500 historical orders, use a larger value
# LOOKBACK_HOURS=87600  # 10 years (for first run to catch all historical data)

# Configuration - Processing
# BATCH_SIZE=100           # Orders per batch (increased for first run)
# MAX_WORKERS=10           # Parallel workers (increased for speed)

# Configuration - Filtering
# Only process orders with paymentStatus = 1
# Set to "true" to save costs by only processing paid orders
# PROCESS_PAID_ONLY=false  # Set to "true" after first run

# Configuration - Skip Unchanged
# Skip orders that haven't changed since last processing
# Set to "true" to avoid reprocessing same content
# SKIP_UNCHANGED=true      # Always true for efficiency

# ===================================
# Recommended Settings for Different Scenarios
# ===================================

# FIRST RUN (Process all 5500 historical orders)
LOOKBACK_HOURS=87600
BATCH_SIZE=100
MAX_WORKERS=10
PROCESS_PAID_ONLY=false
SKIP_UNCHANGED=false  # Set false to ensure all get processed

# ONGOING RUNS (After first run, every 6 hours)
# LOOKBACK_HOURS=720
# BATCH_SIZE=50
# MAX_WORKERS=5
# PROCESS_PAID_ONLY=true   # Only process paid orders to save costs
# SKIP_UNCHANGED=true      # Skip unchanged orders

# COST SAVING MODE (Minimize OpenAI costs)
# LOOKBACK_HOURS=168  # Only last 7 days
# BATCH_SIZE=50
# MAX_WORKERS=5
# PROCESS_PAID_ONLY=true   # Only paid orders
# SKIP_UNCHANGED=true

# HIGH VOLUME MODE (Process many orders quickly)
# LOOKBACK_HOURS=720
# BATCH_SIZE=150
# MAX_WORKERS=15
# PROCESS_PAID_ONLY=false
# SKIP_UNCHANGED=true